{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/api.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth-guard.service.ts","./src/app/auth.service.ts","./src/app/environments/environment.localk8.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/properties.ts","./src/app/qdisplay/qdisplay.component.ts","./src/app/qdisplay/qdisplay.component.html","./src/app/title-bar.service.ts","./src/env.properties.demo.ts","./src/main.ts"],"sourcesContent":["import { Injectable, Inject } from '@angular/core';\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\n\nimport { sURL } from '../app/properties';\nimport { sIMAGE_URL } from '../app/properties';\nimport { Global_Variables } from '../app/properties';\nimport { sEndPoint } from '../env.properties';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class APIService {\n\n  static instance: APIService;\n\n  getUserID() { return Global_Variables.iUserID; }\n  getUserType() { return Global_Variables.sUserType; }\n\n\n  constructor(@Inject(HttpClient) public http: HttpClient) {\n  }\n\n  mergeJSON(target: any, add: any) {\n    if (add === null || add === undefined)\n      return target;\n    function isObject(obj:any) {\n      if (typeof obj == \"object\") {\n        for (var key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            return true; // search for first object prop\n          }\n        }\n      }\n      return false;\n    }\n    for (var key in add) {\n      if (add.hasOwnProperty(key)) {\n        if (target[key] && isObject(target[key]) && isObject(add[key])) {\n          this.mergeJSON(target[key], add[key]);\n        } else {\n          target[key] = add[key];\n        }\n      }\n    }\n\n    return target;\n  }\n\n  // mergeJSON(target: any, add: any) {\n  //   function isObject(obj) {\n  //     if (typeof obj == \"object\") {\n  //       for (var key in obj) {\n  //         if (obj.hasOwnProperty(key)) {\n  //           return true; // search for first object prop\n  //         }\n  //       }\n  //     }\n  //     return false;\n  //   }\n  //   for (var key in add) {\n  //     if (add.hasOwnProperty(key)) {\n  //       if (target[key] && isObject(target[key]) && isObject(add[key])) {\n  //         this.mergeJSON(target[key], add[key]);\n  //       } else {\n  //         target[key] = add[key];\n  //       }\n  //     }\n  //   }\n  //   return target;\n  // }\n\n  performLogin(data:any): Promise<any> {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    //    console.log(sEndPoint)\n    return this.http.post(sEndPoint + 'qauth', data).toPromise();\n    //      .map(res => res.json()).toPromise();\n  }\n  getHeaders(): any {\n    // var oHeaders = new HttpHeaders({\n    //   'Content-Type': 'application/json'\n    // });\n    // if (Global_Variables.token !== undefined) {\n    //   console.log(Global_Variables.token.access_token);\n    //   oHeaders.set('ks-x-authorization', 'Bearer: ' + Global_Variables.token.access_token);\n    // }\n    var oHeaders: HttpHeaders;\n    if (Global_Variables.token) {\n      console.log(Global_Variables.token['access_token']);\n      oHeaders = new HttpHeaders({\n        'Content-Type': 'application/json',\n        'authorization': 'Bearer ' + Global_Variables.token['access_token']\n      });\n    }\n    else\n      oHeaders = new HttpHeaders({\n        'Content-Type': 'application/json'\n      });\n    console.log(oHeaders);\n    return { headers: oHeaders };\n  }\n  // async showNetworkError() {\n  //   this.alertCtrl.create({\n  //     message: 'No Network',\n  //     subHeader: 'Pls check internet connection',\n  //     buttons: ['Dismiss']\n  //   }).then(alert => alert.present() );\n  // }\n  send2Server(sURL: string, bPost: boolean = false, oItem: any = null): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http.post(sURL, oItem, this.getHeaders()).toPromise();\n      //   .map(res => res.json()).toPromise();\n      // return this.http.post(sURL, oItem, this.getHeaders())\n      //   .map(res => res.json()).toPromise();\n    }\n    return this.http.get(sURL, this.getHeaders()).toPromise();\n    // return this.http.get(sURL, this.getHeaders())\n    //   .map(res => res.json()).toPromise();\n  }\n\n  getURL() {\n    return sURL + Global_Variables.iUserID + \"/\";\n  }\n\n  send2ServerC(sPartialURL: string, bPost: boolean = false, oItem: any = null): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http.post(sURL + sPartialURL, oItem, this.getHeaders()).toPromise();\n      // return this.http.post(sURL + sPartialURL, oItem, this.getHeaders())\n      //   .map(res => res.json()).toPromise();\n    }\n    return this.http.get(sURL + sPartialURL, this.getHeaders()).toPromise();\n    // return this.http.get(sURL + sPartialURL, this.getHeaders())\n    //   .map(res => res.json()).toPromise();\n  }\n\n  send2ServerP(sPartialURL: string, bPost: boolean = false, oItem: any = null): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http.post(this.getURL() + sPartialURL, oItem, this.getHeaders()).toPromise();\n      // return this.http.post(this.getURL() + sPartialURL, oItem, this.getHeaders())\n      //   .map(res => res.json()).toPromise();\n    }\n    return this.http.get(this.getURL() + sPartialURL, this.getHeaders()).toPromise();\n    // return this.http.get(this.getURL() + sPartialURL, this.getHeaders())\n    //   .map(res => res.json()).toPromise();\n  }\n\n  send2ServerPlainText(sPartialURL: string, bPost: boolean = false, oItem: any = null): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    if (bPost) {\n      return this.http.post(this.getURL() + sPartialURL, oItem, this.getHeaders()).toPromise();\n    }\n    return this.http.get(this.getURL() + sPartialURL, this.getHeaders()).toPromise();\n  }\n\n  fileUpload(sUrl: string, formData: any): any {\n    // if (Global_Variables.isConnected == false) {\n    //   this.showNetworkError();\n    //   return Promise.reject(\"No Network\");\n    // }\n    let headers = new Headers();\n    headers.append('Content-Type', 'multipart/form-data');\n    headers.append('enctype', 'multipart/form-data');\n    headers.append('Accept', 'application/json');\n    console.log(formData);\n    //    let options = new RequestOptions({ headers: headers });\n    return new Promise((resolve, reject) => {\n      var xhr = new XMLHttpRequest();\n      // for(var i = 0; i < files.length; i++) {\n      //     formData.append(\"uploads[]\", files[i], files[i].name);\n      // }\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            //            console.log(xhr.response);\n            resolve(xhr.response);\n          } else {\n            reject(xhr.response);\n          }\n        }\n      }\n      //path = 'upload/' ;\n      xhr.open(\"POST\", sUrl, true);\n      xhr.send(formData);\n    });\n  }\n  buildImageURL(oItem: any, i: number = -1) {\n    let img = oItem.IMAGE_URL;\n    if (img === undefined || img === null)\n      return '';\n    if (img.startsWith('http://') ||\n      img.startsWith('https://'))\n      return img;\n    if (i != -1)\n      return sIMAGE_URL + i + \"/\" + img;\n    return sIMAGE_URL + oItem.ID + \"/\" + img;\n  }\n  sort(oData: any, oFields: any) {\n    // this.oAPIService.sort ( this.oItems, [{field: 'PICKUPON', direction: 'desc' }, {field: 'PICKUPSTART', direction: 'desc' }, {field: 'BOOKINGREF', direction: 'desc'}]) ;\n    oData.sort(function (a:any, b:any) {\n      for (var i = 0; i < oFields.length; i++) {\n        var retval = a[oFields[i].field] < b[oFields[i].field] ? -1 : a[oFields[i].field] > b[oFields[i].field] ? 1 : 0;\n        if (oFields[i].direction == \"desc\") {\n          retval = retval * -1;\n        }\n        if (retval !== 0) {\n          return retval;\n        }\n      }\n      return 0\n    });\n  }\n  stringToDate(_date: string, _format: string, _delimiter: string) {\n    // stringToDate(\"17/9/2014\",\"dd/MM/yyyy\",\"/\");\n    // stringToDate(\"9/17/2014\",\"mm/dd/yyyy\",\"/\")\n\n    var formatLowerCase = _format.toLowerCase();\n    var formatItems = formatLowerCase.split(_delimiter);\n    var dateItems = _date.split(_delimiter);\n    var monthIndex = formatItems.indexOf(\"mm\");\n    var dayIndex = formatItems.indexOf(\"dd\");\n    var yearIndex = formatItems.indexOf(\"yyyy\");\n    var month = parseInt(dateItems[monthIndex]);\n    month -= 1;\n    var formatedDate = new Date(parseInt(dateItems[yearIndex]), month, parseInt(dateItems[dayIndex]));\n    return formatedDate;\n  }\n\n  setTime(oDate: Date, sTime: string) {\n    //       tests = ['01.25 PM', '01:25pm', '1:25 PM', '11.35 PM', '12.45 PM', '01.25 AM', '11.35 AM', '12.45 AM'],\n    var timeReg = /(\\d+)[\\.|:](\\d+)\\s?(\\w+)/;\n    var parts:any = sTime.match(timeReg);\n    var hours = /am/i.test(parts[3])\n      ? (function (am) {\n          return am < 12 ? am : 0;\n        })(parseInt(parts[1], 10))\n      : (function (pm) {\n          return pm < 12 ? pm + 12 : 12;\n        })(parseInt(parts[1], 10));\n    var minutes = parseInt(parts[2], 10);\n    var minutes = parseInt(parts[2], 10);\n    oDate.setHours(hours);\n    oDate.setMinutes(minutes);\n    oDate.setSeconds(0);\n    return oDate;\n  }\n  setTime24Hrs(oDate: Date, sTime: string): Date {\n    var s = sTime.split(':');\n    var hours = parseInt(s[0]);\n    var minutes = parseInt(s[1]);\n    oDate.setHours(hours);\n    oDate.setMinutes(minutes);\n    return oDate;\n  }\n  /*\n    isFuture(date): boolean {\n      return date.diff(moment.now()) > 0;\n    }\n    isTodayOrFuture(date) {\n      date = this.stripTime(date);\n      return date.diff(this.stripTime(moment.now())) >= 0;\n    }\n  \n    stripTime(date) {\n      date = moment(date);\n      date.hours(0);\n      date.minutes(0);\n      date.seconds(0);\n      date.milliseconds(0);\n      return date;\n    }\n  */\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LoginComponent } from './login/login.component';\nimport { QdisplayComponent } from './qdisplay/qdisplay.component';\n\nimport { AuthGuardService } from './auth-guard.service';\n\nconst routes: Routes = [ \n{\n  path: '',\n  component: LoginComponent\n},\n{\n  path: 'login',\n  component: LoginComponent\n},\n{\n  path: 'qdisplay',\n  component: QdisplayComponent,\n  canActivate: [ AuthGuardService ]\n},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TitleBarService } from './title-bar.service';\nimport { SwUpdate } from '@angular/service-worker';\nimport { PrimeNGConfig } from 'primeng/api';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  sTitle = 'Q# Display';\n  sMqttStatus = '';\n  constructor(private oTBS: TitleBarService,private primengConfig: PrimeNGConfig,\n    private router: Router, private swUpdate: SwUpdate\n  ) {\n    this.router.navigate(['login']);\n  }\n\n  ngOnInit() {\n    if (this.swUpdate.isEnabled) {\n      this.swUpdate.available.subscribe(() => {\n        console.log(\"New Version Available.\");\n        if (confirm(\"New version available. Load it ?\")) {\n          window.location.reload();\n        }\n      })\n    }\n    // this.oTBS.oCurrentTitle.subscribe(obj => {\n    //   setTimeout(() => {\n    //     this.sTitle = obj.title;\n    //     this.sMqttStatus = obj.status;\n    //     console.log(this.sMqttStatus)\n    //   }, 1);\n    // });\n  }\n}\n\n","<!-- <mat-toolbar color=\"accent\">\n  <h1>{{ sTitle }}</h1><span class=\"menu-spacer\"></span> <span class=\"connection-status\">{{ sMqttStatus }}</span>\n</mat-toolbar> -->\n<p-toolbar class=\"p-toolbar-accent\">\n  <div class=\"p-toolbar-group-left\">\n    <h1>{{ sTitle }}</h1>\n  </div>\n  <div class=\"p-toolbar-group-right\">\n    <span class=\"connection-status\">{{ sMqttStatus }}</span>\n  </div>\n</p-toolbar>\n\n<router-outlet></router-outlet>\n","import { NgModule, isDevMode } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n// import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule } from '@angular/common/http';\nimport { LoginComponent } from './login/login.component';\nimport { NgPipesModule } from 'ngx-pipes';\nimport { QdisplayComponent } from './qdisplay/qdisplay.component';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from './environments/environment.localk8';\n\nimport { CardModule } from 'primeng/card' ;\nimport { ButtonModule } from 'primeng/button';  // Import other PrimeNG modules as needed\nimport { SharedModule } from 'primeng/api';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { PanelModule } from 'primeng/panel' ;\nimport { CommonModule } from '@angular/common';\nimport { ToolbarModule } from 'primeng/toolbar';\n\n// import { TwilioService } from './twilio.service';\n// import { VideoComponent } from './video/video.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    QdisplayComponent\n  ],\n  imports: [\n    PanelModule,\n    CommonModule,\n    HttpClientModule,\n    BrowserModule,\n    FormsModule, ReactiveFormsModule,\n    ReactiveFormsModule,\n    AppRoutingModule,\n    NoopAnimationsModule,\n    NgPipesModule,\n    SharedModule,\n    CardModule,\n    InputTextModule,\n    ButtonModule,\n    ToolbarModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\n  ],\n  // exports: [\n  //   SharedModule,\n  //   CardModule,\n  //   ButtonModule,\n\n  // ],\n  providers: [],\n  bootstrap: [AppComponent],\n  // schemas: [CUSTOM_ELEMENTS_SCHEMA]\n\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Router, CanActivate } from '@angular/router';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuardService {\n\n  constructor(public authService: AuthService, public router: Router) {}\n  async canActivate() {\n    if (!await this.authService.checkAuthenticated()) {\n      await this.router.navigate(['login']);\n      return false;\n    }\n    return true;\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { APIService } from './api.service';\nimport { LOCAL_STORAGE, StorageService } from 'ngx-webstorage-service';\nimport { Global_Variables } from '../app/properties';\nimport { jwtDecode } from \"jwt-decode\";\n\nconst STORAGE_KEY = 'token';\n\nconst bDebug = true;\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n\n  private oAPIService: APIService|null = null;\n\n  public isAuthenticated = new BehaviorSubject<boolean>(false);\n\n  constructor(@Inject(APIService) private oAPI:any, @Inject(LOCAL_STORAGE) private oStorage: StorageService, private router: Router) {\n    this.oAPIService = oAPI;\n  }\n\n  async checkAuthenticated() {\n    if (bDebug)\n      console.info(\"checkAuthenticated\");\n    const authenticated = await this.exists();\n    this.isAuthenticated.next(authenticated);\n    console.info(authenticated);\n    return authenticated;\n  }\n\n\n\n  async login(data: any) {\n    try {\n      console.log(data);\n      const id = await this.oAPIService?.performLogin(data);\n      Global_Variables.token = id;\n      if (id) {\n        let o:any = jwtDecode(id.access_token)\n        console.log(o)\n        let jwt_user_fields = JSON.parse(o['user_fields']) ;\n        console.log(jwt_user_fields)\n        Global_Variables.sEntityID = jwt_user_fields[\"ENTITYID\"];\n        Global_Variables.iUserID = jwt_user_fields[\"UID\"];\n        Global_Variables.sUserType = jwt_user_fields[\"TYPE\"];\n        Global_Variables.token = id;\n        this.oStorage.set(STORAGE_KEY, id);\n        this.isAuthenticated.next(true);\n        await this.router.navigate(['qdisplay']);\n        return;\n      }\n    }\n    catch (err:any) {\n      console.log(err);\n      // Global_Variables.token = \"SkipValidation\"\n      // this.isAuthenticated.next(true);\n      // await this.router.navigate(['qdisplay']);\n      // return ;\n      throw Error(JSON.stringify(err.error));\n    }\n    // console.log(\"Not Authenticated\") ;\n    // throw Error('Not Authenticated ');\n  }\n  \n\n  async logout(redirect: string) {\n    try {\n      this.oStorage.remove(STORAGE_KEY);\n      Global_Variables.token = undefined;\n      this.isAuthenticated.next(false);\n      this.router.navigate([redirect]);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  exists() {\n    var id = this.oStorage.get(STORAGE_KEY);\n    if (id) {\n      try {\n        // let o = this.jwtHelper.decodeToken(id.id_token);\n        // if (bDebug)\n        //   console.info(o);\n        let o:any = jwtDecode(id.access_token)\n        let jwt_user_fields = JSON.parse(o['user_fields']) ;\n        console.log(jwt_user_fields)\n        Global_Variables.sEntityID = jwt_user_fields[\"ENTITYID\"];\n        Global_Variables.iUserID = jwt_user_fields[\"UID\"];\n        Global_Variables.sUserType = jwt_user_fields[\"TYPE\"];\n        return true;\n      }\n      catch (err) {\n        console.error(err);\n        return false;\n      }\n    }\n    return false\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport { APIService } from '../api.service';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  private returnUrl: string = '';\n\n  loginForm: FormGroup = new FormGroup({\n    'email': new FormControl('', Validators.required),\n    'password': new FormControl('', Validators.required),\n    'ACCESS': new FormControl('d', Validators.required)\n});\n\n  submitted = false;\n  \n  async ngOnInit() {\n      if (await this.oAuthService.checkAuthenticated()) {\n        await this.oRouter.navigate([this.returnUrl]);\n      }\n    }\n  \n      oErrorMessage = \"\";\n\n  async onSubmit() { \n      this.submitted = true;\n      // alert(JSON.stringify(this.loginForm.value));\n    try {\n      await this.oAuthService.login(this.loginForm?.value);\n    }\n    catch (err:any) {\n      this.oErrorMessage = err;\n    }\n}\n\n\n  // private _jsonURL = 'assets/Login.json';\n\n  constructor(public oRouter: Router, private readonly oAuthService: AuthService, private readonly oAPI: APIService) {\n  }\n  // oMasterFormData: any;\n  // async ngOnInit() {\n  //   this.oAuthService.logout('');\n  //   this.oAPI.send2Server(this._jsonURL).then((content: string) => {\n  //     var formObject:any = content; //JSON.parse(content) ;\n  //     console.log(content)\n  //     this.oFormSchema = formObject['schema'];\n  //     this.oFormLayout = formObject['layout'];\n  //     this.oFormData = formObject['data'];\n  //     this.oMasterFormData = JSON.parse(JSON.stringify(this.oFormData));\n  //   }).catch((error: any) => console.log(error));\n  //   //    this.returnUrl = this.route.snapshot.queryParams.returnUrl || 'qdisplay';\n  //   this.returnUrl = 'qdisplay';\n  //   if (await this.oAuthService.checkAuthenticated()) {\n  //     await this.oRouter.navigate([this.returnUrl]);\n  //   }\n  // }\n\n  // // oErrorMessage = \"\";\n  // // oFormSchema = {};\n  // // oFormLayout:any[] = [];\n  // // oFormData = {};\n  // async onFormSubmit(formData: any) {\n  //   this.oErrorMessage = \"\";\n  //   try {\n  //     await this.oAuthService.login(this.oAPI.mergeJSON(this.oMasterFormData, formData));\n  //   }\n  //   catch (err:any) {\n  //     this.oErrorMessage = err;\n  //   }\n  // }\n  isFormValid(form: any) {\n    // console.log(form) ;\n    // let st = form['auto:start'] ;\n    // console.log(st) ;\n    // if (st !== undefined && !cron.isValidCron(st)) {\n    //   return false ;\n    // }\n    return true;\n  }\n\n}\n","<!-- https://hamidihamza.com/ajsf/ -->\n<!-- <div>{{oErrorMessage}}</div>\n<div class=\"form-container\">\n  <json-schema-form [schema]=\"oFormSchema\" [layout]=\"oFormLayout\" [(data)]=\"oFormData\" framework=\"material-design\"\n    (onSubmit)=\"onFormSubmit($event)\" (isValid)=\"isFormValid($event)\" [loadExternalAssets]=\"true\">\n  </json-schema-form>\n</div> -->\n\n<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"loginForm\">\n  <p-panel>\n      <div class=\"ui-grid ui-grid-responsive ui-grid-pad ui-fluid\" style=\"margin: 10px 0px\">\n          <div class=\"ui-grid-row\">\n              <div class=\"ui-grid-col-2\">\n                  Email:\n              </div>\n              <div class=\"ui-grid-col-6\">\n                  <input pInputText type=\"text\" formControlName=\"email\" class=\"form-control\" name=\"email\">\n              </div>\n              <!-- <div class=\"ui-grid-col-4\">\n                  <div [hidden]=\"loginForm.controls['login'].valid || !loginForm.controls['login'].dirty\" class=\"alert alert-danger\">\n                      Login is required\n                  </div>\n              </div> -->\n          </div>\n          <div class=\"ui-grid-row\">\n              <div class=\"ui-grid-col-2\">\n                  Password:\n              </div>\n              <div class=\"ui-grid-col-6\">\n                  <input pInputText type=\"password\" formControlName=\"password\" class=\"form-control\" name=\"password\">\n              </div>\n              <!-- <div class=\"ui-grid-col-4\">\n                  <div [hidden]=\"loginForm.controls['password'].valid || !loginForm.controls['password'].dirty\" class=\"alert alert-danger\">\n                      Password is required\n                  </div>\n              </div> -->\n          </div>\n          <div>\n            <p></p>\n          </div>\n          <div class=\"ui-grid-row\">\n              <div class=\"ui-grid-col-2\"></div>\n              <div class=\"ui-grid-col-6\">\n                  <!-- <button pButton type=\"submit\" label=\"Submit\" [disabled]=\"!loginForm.valid\"></button> -->\n                  <button pButton type=\"submit\" label=\"Submit\"></button>\n              </div>\n              <div class=\"ui-grid-col-4\"></div>\n          </div>\n      </div>\n  </p-panel>\n</form>\n","import { v4 as UUID } from 'uuid';\r\nimport { sEndPoint } from '../env.properties';\r\n\r\nexport const sURL = sEndPoint + \"api/\";\r\nexport const sIMAGE_URL = sEndPoint + \"image/\";\r\nexport var Global_Variables = {\r\n  iUserID: 0,\r\n  sUserType: 'N',\r\n  isConnected: true,\r\n  token: undefined,\r\n  DeviceID: \"None\",\r\n  oEID: -1,\r\n  sEntityID: 0,\r\n  //  oRItem: null,\r\n  //  oMenuItems: [],\r\n  sCurrentPage: 'Entities',\r\n  UUID: UUID()\r\n};\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Global_Variables } from '../../app/properties';\nimport { MQTT_HOST, MQTT_PORT, MQTT_USESSL } from '../../env.properties';\n\nimport { APIService } from '../api.service';\nimport { Paho } from 'mosq-mqtt/mqttws31';\nimport { MqttService } from 'abstract-mqtt';\nimport { v4 as UUID } from 'uuid';\nimport { TitleBarService } from '../title-bar.service';\n//local MqttService  = asdf ;\n\n@Component({\n  selector: 'app-qdisplay',\n  templateUrl: './qdisplay.component.html',\n  styleUrls: ['./qdisplay.component.scss']\n})\nexport class QdisplayComponent extends MqttService implements OnInit, OnDestroy {\n\n  oItems: any[] = [];\n  oServices: any[] = [];\n  oEntity: any = {};\n\n  oOptions: any = {\n    useSSL: MQTT_USESSL,\n    userName: \"test\",\n    password: \"test12\",\n  };\n  sMqttHost = MQTT_HOST;\n\n  constructor(private oTBS: TitleBarService, private oAPIService: APIService) {\n    super(MQTT_HOST, MQTT_PORT, Global_Variables, false);\n\n    //    console.log(MQTT_HOST, MQTT_PORT, Global_Variables.token.access_token);\n//    this.sMqttHost = 'm-ezq.ignorelist.com';\n\n    super.setMqttOptions(this.oOptions);\n    super.setConnect(true);\n    this.oAPIService.send2ServerP(\"entities/\" + Global_Variables.sEntityID, true).then((data:any) => {\n      this.oEntity = data.result[0];\n    })\n  }\n  public override getMqttHost() {\n    return this.sMqttHost;\n  }\n  public override getClientID() {\n    //  super.sClientID = \"qs-\" + this.Global_Variables.UUID;\n    return UUID();\n  }\n  public override onConnectionStatusChange(sMqttStatus:any) {\n    this.oTBS.titleChange({ title: \"CallQueue #\", status: sMqttStatus });\n  }\n\n  ngOnInit(): void {\n    this.oAPIService.send2ServerP(\"services/\" + Global_Variables.sEntityID + \"/prefix\", true).then((data: any) => {\n      this.oServices = data.result;\n      super.subscribe(\"CQ/\" + Global_Variables.sEntityID + \"/#\");\n    });\n    this.oTBS.oCurrentTitle.subscribe(obj => {\n      console.log(\"Update title\", obj)\n      setTimeout(() => {\n\n        // this.sTitle = obj.title;\n        // this.sMqttStatus = obj.status;\n        // console.log(this.sMqttStatus)\n        console.log(\"Update title\")\n      }, 1);\n    });\n    // }\n    // ionViewDidEnter() {\n    //    this.subscribe(\"niq/\" + this.sEntityID  + \"/#\");\n\n    // this.oAPIService.send2ServerP(\"mq\", true).then((data: any) => {\n    //   this.oItems = data.result;\n    //   console.log(\"************ \", JSON.stringify(this.oItems));\n    //   //      this.bLoaded = true;\n    //   if (this.oItems.length > 0) {\n    //     /*\n    //       Topics:\n    //         Current Queue ( for all services )\n    //           CQ/<EntityID>/#\n    //     */\n    //     //      this.subscribe(\"CQ/\" + this.oItems[0].ENTITYID + \"/#\");\n    //   }\n    // });\n  }\n  ngOnDestroy() {\n    //  ionViewWillUnload() {\n    //  ionViewDidLeave() {\n    //this.disconnectMQTT();\n    //Update the servicetime\n    //    this.oAPIService.send2ServerP(\"sqnlogout/\" + this.oEntity.ID + \"/\" + this.oService.ID + \"/\" + this.oItem.CURRENTQN, true).then((data: any) => {\n    //    });\n    try {\n      super.setConnect(false);\n    }\n    catch (err) { }\n  }\n\n  public override getUserName() {\n    //TODO get a new JWT token that expires in few minutes.\n    return Global_Variables.token?.['access_token'] || '';\n  }\n\n  padLeft(text: any, padChar: string, size: number): string {\n    return (String(padChar).repeat(size) + text).substr((size * -1), size);\n  }\n  // getFontSize() {\n  //   return this.oItem.FontSize + \"px\";\n  //   //    return \"font-size: \" + this.oItem.FontSize + \"px\" ;\n  // }\n  processMessage(message: Paho.MQTT.Message) {\n    var t = super.getTopicPathInArray(message);\n    if (t[0] == 'ServerUp' || t[0] == 'IP')\n      return;\n    var m = super.getMessageInArray(message);\n\n    console.log(message.destinationName + \" \" + message.payloadString);\n    var o = { SID: t[2], CURRENTQN: m[0], COUNTERN: m[2], PREFIX: '', bBlink: true, CURRENTQN_T: '' };\n    this.oServices.forEach((oItem) => {\n      if (o.SID == oItem.ID) {\n        o.PREFIX = oItem.PREFIX;\n        o.CURRENTQN_T = this.padLeft(o.CURRENTQN, 'O', 3).replace(/0/g, 'O');\n        oItem.QINFO = o;\n        //        console.log(JSON.stringify(\"QINFO=>\", oItem));\n      }\n    });\n    // var oItem2Remove = null;\n    // this.oServices.forEach((oItem) => {\n    //   if (oItem2Remove == null && oItem.SID == t[2]) {\n    //     oItem2Remove = oItem;\n    //   }\n    // });\n    // var i = 0;\n    // for (i = 0; i < this.oServices.length; i++) {\n    //   if (this.oServices[i].SID == t[2] && (this.oServices[i].COUNTERN == m[2] || Number(this.oItems[i].COUNTERN) < 0)) {\n    //     this.oServices.splice(i, 1);\n    //     console.log(JSON.stringify(this.oServices));\n    //     break;\n    //   }\n    // }\n    // this.oItems.splice(0, 0, o);\n  }\n}\n","<!-- https://www.positronx.io/build-progressive-web-app-pwa-with-angular/ -->\n<div class=\"entity-title\">\n  {{oEntity?.ENAME}}\n  <br>{{oEntity?.ADDRESS}}\n</div>\n<!-- \n<div scroll=\"false\" no-padding class=\"dashboard\">\n  <div *ngFor=\"let o of oItems\" class=\"bottom-aligned\">\n\n    <div padding class=\"paper wide bottom-shadow\" text-center>{{o.NAME}}\n    </div>\n    <div *ngIf=\"o.COUNTERN > 0\">\n      <mat-grid-list cols=\"12\">\n        <mat-grid-tile [colspan]=\"6\" class=\"ksd-cq-display\" [ngClass]=\"{'blinking' : (o.bBlink)}\">\n          {{o.PREFIX | lpad: 2: ' '}}{{o.CURRENTQN_T}}</mat-grid-tile>\n        <mat-grid-tile [colspan]=\"2\" class=\"ksd-cq-display-arrow\">=></mat-grid-tile>\n        <mat-grid-tile [colspan]=\"3\" class=\"ksd-cq-display-counter\">\n          {{o.COUNTERN}}</mat-grid-tile>\n      </mat-grid-list>\n    </div>\n    <div *ngIf=\"o.COUNTERN <= 0\">\n      <mat-grid-list cols=\"12\">\n        <mat-grid-tile [colspan]=\"12\" class=\"ksd-cq-display-single\" [ngClass]=\"{'blinking' : (o.bBlink)}\">\n          {{o.PREFIX | lpad: 2: ' '}}{{o.CURRENTQN_T}}</mat-grid-tile>\n      </mat-grid-list>\n    </div>\n  </div>\n</div>\n -->\n\n<div class=\"card-container\">\n  <p-card *ngFor=\"let o of oServices\" class=\"card-item\">\n    <div>{{o.NAME}}</div>\n    <div [ngClass]=\"{'blinking' : (o.bBlink)}\">\n      <p>{{o.QINFO?.PREFIX | lpad: 2: ' '}}{{o.QINFO?.CURRENTQN_T}} => {{o.QINFO?.COUNTERN}}</p>\n    </div>\n  </p-card>\n</div>\n\n<div>\n  <button pButton type=\"button\" label=\"Logout\" class=\"p-button-accent\" routerLink=\"/login\"></button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TitleBarService {\n\n  private oTitleObject = new BehaviorSubject({ title: 'Q# Display', status: '' });\n  oCurrentTitle = this.oTitleObject.asObservable();\n\n  constructor() { }\n\n  titleChange(obj:any) {\n    this.oTitleObject.next(obj);\n  }\n}\n","export const sEndPoint = \"https://api.bullish.sg/\";\r\nexport const MQTT_HOST = 'msg.bullish.sg';\r\nexport const MQTT_PORT = 443;\r\nexport const MQTT_USESSL = true;\r\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["HttpClient","HttpHeaders","sURL","sIMAGE_URL","Global_Variables","sEndPoint","APIService","getUserID","iUserID","getUserType","sUserType","constructor","http","mergeJSON","target","add","undefined","isObject","obj","key","hasOwnProperty","performLogin","data","post","toPromise","getHeaders","oHeaders","token","console","log","headers","send2Server","bPost","oItem","get","getURL","send2ServerC","sPartialURL","send2ServerP","send2ServerPlainText","fileUpload","sUrl","formData","Headers","append","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","open","send","buildImageURL","i","img","IMAGE_URL","startsWith","ID","sort","oData","oFields","a","b","length","retval","field","direction","stringToDate","_date","_format","_delimiter","formatLowerCase","toLowerCase","formatItems","split","dateItems","monthIndex","indexOf","dayIndex","yearIndex","month","parseInt","formatedDate","Date","setTime","oDate","sTime","timeReg","parts","match","hours","test","am","pm","minutes","setHours","setMinutes","setSeconds","setTime24Hrs","s","_","i0","inject","_2","factory","fac","providedIn","RouterModule","LoginComponent","QdisplayComponent","AuthGuardService","routes","path","component","canActivate","AppRoutingModule","_3","forRoot","imports","i1","exports","AppComponent","oTBS","primengConfig","router","swUpdate","sTitle","sMqttStatus","navigate","ngOnInit","isEnabled","available","subscribe","confirm","window","location","reload","directiveInject","TitleBarService","i2","PrimeNGConfig","i3","Router","i4","SwUpdate","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","elementStart","text","elementEnd","element","advance","textInterpolate","BrowserModule","FormsModule","ReactiveFormsModule","NoopAnimationsModule","HttpClientModule","NgPipesModule","ServiceWorkerModule","environment","CardModule","ButtonModule","SharedModule","InputTextModule","PanelModule","CommonModule","ToolbarModule","AppModule","bootstrap","register","enabled","production","declarations","authService","_this","_asyncToGenerator","checkAuthenticated","AuthService","BehaviorSubject","LOCAL_STORAGE","jwtDecode","STORAGE_KEY","bDebug","oAPI","oStorage","oAPIService","isAuthenticated","info","authenticated","exists","next","login","_this2","id","o","access_token","jwt_user_fields","JSON","parse","sEntityID","set","err","Error","stringify","error","logout","redirect","_this3","remove","FormControl","FormGroup","Validators","oAuthService","oRouter","returnUrl","onSubmit","submitted","loginForm","value","oErrorMessage","required","isFormValid","form","LoginComponent_Template","listener","LoginComponent_Template_form_ngSubmit_0_listener","property","v4","UUID","isConnected","DeviceID","oEID","sCurrentPage","MQTT_HOST","MQTT_PORT","MQTT_USESSL","MqttService","o_r1","NAME","pureFunction1","_c0","bBlink","textInterpolate3","pipeBind3","QINFO","PREFIX","CURRENTQN_T","COUNTERN","oItems","oServices","oEntity","oOptions","useSSL","userName","password","sMqttHost","setMqttOptions","setConnect","then","result","getMqttHost","getClientID","onConnectionStatusChange","titleChange","title","oCurrentTitle","setTimeout","ngOnDestroy","getUserName","padLeft","text","padChar","size","String","repeat","substr","processMessage","message","t","getTopicPathInArray","m","getMessageInArray","destinationName","payloadString","SID","CURRENTQN","forEach","replace","features","InheritDefinitionFeature","QdisplayComponent_Template","template","QdisplayComponent_p_card_5_Template","textInterpolate1","ENAME","ADDRESS","oTitleObject","asObservable","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}